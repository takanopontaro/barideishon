switch (this.item.type) {
  case 'checkbox':
  case 'radio':
    return this.item.el.checked;
  case 'textarea':
  case 'hidden':
  case 'text':
  case 'search':
  case 'tel':
  case 'url':
  case 'email':
  case 'password':
  case 'datetime':
  case 'date':
  case 'month':
  case 'week':
  case 'time':
  case 'datetime-local':
  case 'number':
  case 'range':
  case 'color':
  case 'checkbox':
  case 'radio':
  case 'file':
  case 'submit':
  case 'image':
  case 'reset':
  case 'button':
    return this.item.el.value.trim() === '';
}

ValidityState:
badInput
customError
patternMismatch
rangeOverflow
rangeUnderflow
stepMismatch
tooLong
tooShort
typeMismatch
valid
valueMissing




HTML5を利用した控えめなバリデータ。

HTML
<form>
  <input type="email" required>
  <input type="text" pattern="^\w+$">
  <button>submit</button>
</form>

JS
import { Valli } from 'Valli';

const form = document.querySelector('form');
const controls = Array.from(document.querySelectorAll('input'));
const btn = document.querySelector('button');

const valli = new Valli({ form, controls });

function callback(ev) {
  const { el, valid } = ev.detail;
  el.style.background = valid ? '' : '#fcc';
  setBtnState();
}

function setBtnState() {
  btn.disabled = !valli.valid;
}

form.addEventListener('valli', callback, false);

https://jsbin.com/konidi/edit?html,js,output

ビルドイン・バリデータ
Equal
Different
Within




